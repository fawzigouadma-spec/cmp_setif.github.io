<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ุฅุฑุณุงู ุดููู - CMP SETIF</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    body {
      margin: 0;
      font-family: "Tahoma", Arial, sans-serif;
      background: linear-gradient(135deg, #0d6efd, #0a58ca);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .container {
      background: #ffffff;
      width: 95%;
      max-width: 700px;
      padding: 30px;
      border-radius: 14px;
      box-shadow: 0 15px 40px rgba(0,0,0,0.2);
      position: relative;
    }

    h1 { text-align: center; color: #0d6efd; margin-bottom: 10px; }
    p.subtitle { text-align: center; color: #555; margin-bottom: 30px; font-size: 15px; }

    .form-group { margin-bottom: 18px; }
    label { display: block; margin-bottom: 6px; font-weight: bold; color: #333; }
    input, select { width: 100%; padding: 10px 12px; border-radius: 8px; border: 1px solid #ccc; font-size: 14px; }
    input:focus, select:focus { outline: none; border-color: #0d6efd; }

    .row { display: flex; gap: 15px; }
    .row .form-group { flex: 1; }

    .btn {
      width: 100%;
      background: #0d6efd;
      color: #fff;
      border: none;
      padding: 14px;
      font-size: 16px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: bold;
      transition: 0.3s;
      margin-top: 10px;
    }
    .btn:hover { background: #084298; }

    .btn-home {
      background: #198754;
    }
    .btn-home:hover { background: #0f5132; }

    footer { text-align: center; margin-top: 20px; font-size: 13px; color: #777; }
  </style>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>

<body>

<div class="container">
  <h1>ุฅุฑุณุงู ุดููู</h1>
  <p class="subtitle">ูุฑูุฒ ูุนุงูุฌุฉ ุงูุดูุงูู โ ุฅุชุตุงูุงุช ุงูุฌุฒุงุฆุฑ ุณุทูู</p>

  <form id="complaintForm">

    <!-- ุงูููุงูุฉ -->
    <div class="form-group">
      <label>ุงูููุงูุฉ</label>
      <input type="text" value="ุณุทูู" readonly>
    </div>

    <!-- ุงููุฑุงูุฒ ุงูุชูููุฉ ูุฅุชุตุงูุงุช ุงูุฌุฒุงุฆุฑ ุณุทูู -->
    <div class="form-group">
      <label>ุงููุฑุงูุฒ ุงูุชูููุฉ ูุฅุชุตุงูุงุช ุงูุฌุฒุงุฆุฑ ุณุทูู</label>
      <select>
        <option value="">ุงููุฑุงูุฒ ุงูุชูููุฉ ูุฅุชุตุงูุงุช ุงูุฌุฒุงุฆุฑ ุณุทูู</option>
        <option>ุฅุชุตุงูุงุช ุงูุฌุฒุงุฆุฑ ุณุทูู
</option>
        <option>ุฅุชุตุงูุงุช ุงูุฌุฒุงุฆุฑ ุงูุนููุฉ
</option>
        <option>ุฅุชุตุงูุงุช ุงูุฌุฒุงุฆุฑุนูู ูููุงู
</option>
        <option>ุฅุชุตุงูุงุช ุงูุฌุฒุงุฆุฑุจููุงุนุฉ
</option>
        <option>ุฅุชุตุงูุงุช ุงูุฌุฒุงุฆุฑุนูู ุงููุจูุฑุฉ
</option>
        <option>ุฅุชุตุงูุงุช ุงูุฌุฒุงุฆุฑุนูู ุฃุฒุงู 
</option>
      </select>
    </div>

    <!-- ุงูุงุณู ูุงูููุจ -->
    <div class="row">
      <div class="form-group">
        <label>ุงูุงุณู</label>
        <input type="text" id="firstName" placeholder="ุงูุงุณู" required>
      </div>
      <div class="form-group">
        <label>ุงูููุจ</label>
        <input type="text" id="lastName" placeholder="ุงูููุจ" required>
      </div>
    </div>

    <!-- ุงููุงุชู -->
    <div class="row">
      <div class="form-group">
        <label>ุงููุงุชู ุงูุซุงุจุช</label>
        <input type="tel" id="fixedPhone" placeholder="036xxxxxx">
      </div>
      <div class="form-group">
        <label>ุงููุงุชู ุงูููุงู</label>
        <input type="tel" id="mobilePhone" placeholder="05xxxxxxxx">
      </div>
    </div>

    <!-- ุงูุนููุงู -->
    <div class="form-group">
      <label>ุงูุนููุงู</label>
      <input type="text" id="address" placeholder="ุงูุนููุงู ุงููุงูู">
    </div>

    <!-- ููุน ุงูุฎุฏูุฉ -->
    <div class="form-group">
      <label>ููุน ุงูุฎุฏูุฉ</label>
      <select id="serviceType">
        <option value="">ุงุฎุชุฑ ููุน ุงูุฎุฏูุฉ</option>
        <option>ุฅูุชุฑูุช</option>
        <option>ูุงุชู ุซุงุจุช</option>
        <option>ุงูุฌูู ุงูุฑุงุจุน 4G</option>
      </select>
    </div>

    <!-- ููุน ุงูุดููู -->
    <div class="form-group">
      <label>ููุน ุงูุดููู</label>
      <select id="complaintType">
        <option value="">ุงุฎุชุฑ ููุน ุงูุดููู</option>
        <option>ุฅููุทุงุน ุงูุฎุฏูุฉ</option>
        <option>ุจุทุก ุดุฏูุฏ ูู ุงูุฅูุชุฑูุช</option>
        <option>ุชุดููุด ูู ุงูุฎุท</option>
        <option>ุชุฃุฎุฑ ูู ุงูุชุฑููุจ</option>
        <option>ุชุฃุฎุฑ ูู ุงูุชุญููู</option>
        <option>ุชุนุทู ุงููุงุชู</option>
      </select>
    </div>

    <!-- ููุนุฏ ุงูุชุณุฏูุฏ -->
    <div class="form-group">
      <label>ููุนุฏ ุชุณุฏูุฏ ุงููุณุชุญูุงุช (ุงุฎุชูุงุฑู)</label>
      <input type="date" id="dueDate">
    </div>

    <!-- ุนุฏุฏ ูุฑุงุช ุงูุดููู -->
    <div class="form-group">
      <label>ุนุฏุฏ ูุฑุงุช ุชูุฏูู ุงูุดููู (ุงุฎุชูุงุฑู)</label>
      <input type="number" id="complaintCount" min="0" placeholder="ูุซุงู: 1">
    </div>

    <!-- ุฒุฑ ุงูุฅุฑุณุงู -->
    <button type="submit" class="btn">ุฅุฑุณุงู ุงูุดููู</button>

    <!-- ุฒุฑ ุงูุนูุฏุฉ ููุตูุญุฉ ุงูุฑุฆูุณูุฉ -->
    <a href="index.html" class="btn btn-home">๐ ุงูุนูุฏุฉ ุฅูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ</a>

  </form>

  <footer>
    ยฉ 2026 CMP SETIF โ ุฌููุน ุงูุญููู ูุญููุธุฉ
  </footer>
</div>

<script>
  // ุฅุนุฏุงุฏ Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyClGKlEHeuLkzBPx6NAKamYRG7zHhAWkGg",
    authDomain: "les-cmp-setif.firebaseapp.com",
    projectId: "les-cmp-setif",
    storageBucket: "les-cmp-setif.firebasestorage.app",
    messagingSenderId: "300479385524",
    appId: "1:300479385524:web:00ab999b49670176adece1"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  // ุงูุชุนุงูู ูุน ุฅุฑุณุงู ุงููููุฐุฌ
  const form = document.getElementById("complaintForm");
  form.addEventListener("submit", function(e) {
    e.preventDefault();

    const data = {
      commune: document.getElementById("commune").value,
      firstName: document.getElementById("firstName").value,
      lastName: document.getElementById("lastName").value,
      fixedPhone: document.getElementById("fixedPhone").value,
      mobilePhone: document.getElementById("mobilePhone").value,
      address: document.getElementById("address").value,
      serviceType: document.getElementById("serviceType").value,
      complaintType: document.getElementById("complaintType").value,
      dueDate: document.getElementById("dueDate").value,
      complaintCount: document.getElementById("complaintCount").value,
      date: new Date()
    };

    db.collection("complaints").add(data)
      .then(() => {
        alert("โ ุชู ุฅุฑุณุงู ุงูุดููู ุจูุฌุงุญ");
        form.reset();
      })
      .catch((error) => {
        alert("โ ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุฅุฑุณุงู ุงูุดููู: " + error.message);
      });
  });
</script>

</body>
</html>
