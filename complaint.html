<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฅุฑุณุงู ุดููู - CMP SETIF</title>
    <link rel="stylesheet" href="style.css">

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
</head>
<body>

<header>
    <h1>ุฅุฑุณุงู ุดููู</h1>
    <p>ุงููุฃ ุงููููุฐุฌ ุฃุฏูุงูุ ูุณุชุตู ุดููุงู ูุจุงุดุฑุฉ ููุฅุฏุงุฑุฉ</p>
</header>

<section>
    <form id="complaintForm">
        <input type="text" id="name" placeholder="ุงูุงุณู ุงููุงูู" required>
        <input type="email" id="email" placeholder="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู" required>
        <textarea id="message" placeholder="ุงูุชุจ ุดููุงู ููุง" required></textarea>
        <button type="button" onclick="alert('ุงูุฒุฑ ูุนูู')">ุงุฎุชุจุงุฑ</button>
    </form>

    <p id="status"></p>

    <br>
    <a href="index.html" class="btn">โฌ ุงูุนูุฏุฉ ููุตูุญุฉ ุงูุฑุฆูุณูุฉ</a>
</section>

<script>
  // ๐ ุฅุนุฏุงุฏุงุช Firebase (ุงูุฎุงุตุฉ ุจูุดุฑูุนู)
  const firebaseConfig = {
    apiKey: "AIzaSyClGKlEHeuLkzBPx6NAKamYRG7zHhAWkGg",
    authDomain: "les-cmp-setif.firebaseapp.com",
    projectId: "les-cmp-setif",
    storageBucket: "les-cmp-setif.firebasestorage.app",
    messagingSenderId: "300479385524",
    appId: "1:300479385524:web:00ab999b49670176adece1"
  };

  // ุชุดุบูู Firebase
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  const form = document.getElementById('complaintForm');
  const status = document.getElementById('status');

  form.addEventListener('submit', (e) => {
    e.preventDefault();

    db.collection("complaints").add({
      name: document.getElementById('name').value,
      email: document.getElementById('email').value,
      message: document.getElementById('message').value,
      date: new Date()
    })
    .then(() => {
      status.textContent = "โ ุชู ุฅุฑุณุงู ุงูุดููู ุจูุฌุงุญุ ุณูุชู ุงูุฑุฏ ูู ุฃูุฑุจ ููุช";
      form.reset();
    })
    .catch((error) => {
      status.textContent = "โ ุญุฏุซ ุฎุทุฃ: " + error.message;
    });
  });
</script>

</body>
</html>
